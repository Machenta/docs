---
title: 'Development'
description: 'Preview changes locally to update your docs'
audience: ["dev"]
---

<link rel="stylesheet" href="/styles.css" />

<Info>
  **Prerequisites**:
  - Node.js version 19 or higher
  - A docs repository with a `docs.json` file
   - Node.js 18+ (the Mastra runtime prefers Node 18 or higher; some tooling requires 19+)
   - Git and a working clone of the repository
   - PowerShell (for running the `start-dev.ps1` bootstrap script on Windows)
</Info>

Follow these steps to set up and preview the Mastra project and documentation locally.

<Steps>
<Step title="Install dependencies">

```bash
npm install
```

This installs the runtime and development tools used by the Mastra project.

</Step>

<Step title="Preview the Mastra runtime locally">

Use the project's helper scripts to start the runtime and optional services. These scripts warm the registry and expose admin endpoints.

```powershell
pwsh ./scripts/start-dev.ps1  # Windows PowerShell recommended
# OR
npm run quickstart
# OR
npm run dev
```

When running the runtime locally the registries UI is available at `http://localhost:4111/registries`.

</Step>
</Steps>

## Running the Mastra runtime locally

Use the Mastra `start-dev` script to bootstrap `.env` and warm the registry during local development. This script is helpful for preparing runtime dependencies and starting the server in a reproducible way.

**Basic runtime steps:**

1. From the repository root, install dependencies:
```bash
npm install
```
2. Copy `.env.example` and update values in `.env` for your environment (APIM, Azure OpenAI, SQL, etc.):
```powershell
copy .env.example .env
```
3. Start the runtime with the provided PowerShell helper (recommended on Windows):
```powershell
pwsh ./scripts/start-dev.ps1
```
4. Confirm the runtime is running and inspect the registries endpoint: `http://localhost:4111/registries`.

**Useful runtime commands:**
- `npm run dev` — start the Mastra runtime using the dev script
- `npm run quickstart` — convenience script that may call the PowerShell start helper
- `npm run test:unit` — run unit tests
- `npm test` — run integration tests against a local `BASE_URL` (default `http://localhost:4111`)

For a comprehensive walkthrough and troubleshooting guides, see the repository README.

## Custom ports

By default, Mintlify uses port 3000. You can customize the port Mintlify runs on by using the `--port` flag. For example, to run Mintlify on port 3333, use this command:

```bash
mint dev --port 3333
```

If you attempt to run Mintlify on a port that's already in use, it will use the next available port:

```md
Port 3000 is already in use. Trying 3001 instead.
```

## Mintlify versions

Please note that each CLI release is associated with a specific version of Mintlify. If your local preview does not align with the production version, please update the CLI:

```bash
npm mint update
```

## Validating links

The CLI can assist with validating links in your documentation. To identify any broken links, use the following command:

```bash
mint broken-links
```

## Deployment

If the deployment is successful, you should see the following:

<Frame>
  <img src="/images/checks-passed.png" alt="Screenshot of a deployment confirmation message that says All checks have passed." style={{ borderRadius: '0.5rem' }} />
</Frame>

## Code formatting

We suggest using extensions on your IDE to recognize and format MDX. If you're a VSCode user, consider the [MDX VSCode extension](https://marketplace.visualstudio.com/items?itemName=unifiedjs.vscode-mdx) for syntax highlighting, and [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) for code formatting.

## Troubleshooting

<AccordionGroup>
  <Accordion title='Error: Could not load the "sharp" module using the darwin-arm64 runtime'>

    This may be due to an outdated version of node or missing native build artifacts. Try the following:
    1. Upgrade Node.js to a supported version (Node 18+ recommended).
    2. Re-install local dependencies from the repo root:
    ```bash
    npm ci
    ```
    3. If native modules fail to build, try removing local `node_modules` and repeating the install.
  </Accordion>

  <Accordion title="Issue: Encountering an unknown error">
  
    Solution: Try clearing local caches, reinstalling dependencies, and restarting the development scripts:
    ```bash
    rm -rf ~/.npm ~/.cache
    npm ci
    npm run dev
    ```
  </Accordion>
</AccordionGroup>

Curious about what changed in the latest CLI version? Check out the [CLI changelog](https://www.npmjs.com/package/mintlify?activeTab=versions).
